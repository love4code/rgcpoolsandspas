<%
  // Theme color definitions - All blue variations
  const themeColors = {
    'ocean-blue': {
      primary: '#0066cc',
      secondary: '#00aaff',
      accent: '#4da6ff',
      text: '#333333',
      button: '#0066cc',
      buttonText: '#ffffff',
      link: '#0066cc',
      background: '#ffffff'
    },
    'deep-blue': {
      primary: '#003d7a',
      secondary: '#0056b3',
      accent: '#0066cc',
      text: '#333333',
      button: '#003d7a',
      buttonText: '#ffffff',
      link: '#003d7a',
      background: '#ffffff'
    },
    'sky-blue': {
      primary: '#0099ff',
      secondary: '#33b3ff',
      accent: '#66ccff',
      text: '#333333',
      button: '#0099ff',
      buttonText: '#ffffff',
      link: '#0099ff',
      background: '#ffffff'
    },
    'navy-blue': {
      primary: '#001f4d',
      secondary: '#003366',
      accent: '#004d99',
      text: '#333333',
      button: '#001f4d',
      buttonText: '#ffffff',
      link: '#001f4d',
      background: '#ffffff'
    },
    'aqua-blue': {
      primary: '#00b3b3',
      secondary: '#00cccc',
      accent: '#00e6e6',
      text: '#333333',
      button: '#00b3b3',
      buttonText: '#ffffff',
      link: '#00b3b3',
      background: '#ffffff'
    },
    'light-blue': {
      primary: '#4da6ff',
      secondary: '#66b3ff',
      accent: '#80c1ff',
      text: '#333333',
      button: '#4da6ff',
      buttonText: '#ffffff',
      link: '#4da6ff',
      background: '#ffffff'
    },
    'royal-blue': {
      primary: '#0040ff',
      secondary: '#3366ff',
      accent: '#668cff',
      text: '#333333',
      button: '#0040ff',
      buttonText: '#ffffff',
      link: '#0040ff',
      background: '#ffffff'
    }
  };

  const currentTheme = settings && settings.theme ? settings.theme : 'ocean-blue';
  const isCustomTheme = currentTheme === 'custom';
  
  let colors;
  if (isCustomTheme && settings.customTheme) {
    colors = {
      primary: settings.customTheme.primaryColor || '#0066cc',
      secondary: settings.customTheme.secondaryColor || '#00aaff',
      accent: settings.customTheme.accentColor || '#ff6b35',
      text: settings.customTheme.textColor || '#333333',
      button: settings.customTheme.buttonColor || '#0066cc',
      buttonText: settings.customTheme.buttonTextColor || '#ffffff',
      link: settings.customTheme.linkColor || '#0066cc',
      background: settings.customTheme.backgroundColor || '#ffffff'
    };
  } else {
    colors = themeColors[currentTheme] || themeColors['ocean-blue'];
  }
%>
<style>
  /* Theme Variables */
  :root {
    --theme-primary: <%= colors.primary %>;
    --theme-secondary: <%= colors.secondary %>;
    --theme-accent: <%= colors.accent %>;
    --theme-text: <%= colors.text %>;
    --theme-button: <%= colors.button %>;
    --theme-button-text: <%= colors.buttonText %>;
    --theme-link: <%= colors.link %>;
    --theme-background: <%= colors.background %>;
  }

  /* Override Bootstrap Primary Color */
  .btn-primary,
  .bg-primary,
  .text-primary,
  .border-primary {
    background-color: var(--theme-primary) !important;
    border-color: var(--theme-primary) !important;
    color: var(--theme-button-text) !important;
  }

  .btn-primary:hover,
  .btn-primary:focus {
    background-color: var(--theme-secondary) !important;
    border-color: var(--theme-secondary) !important;
    color: var(--theme-button-text) !important;
  }

  .text-primary {
    color: var(--theme-primary) !important;
  }

  /* Navigation Theme */
  .navbar.theme-nav {
    background-color: var(--theme-primary) !important;
  }

  /* Hero Section Theme - Gradient variation of navbar color */
  .hero-section.theme-hero {
    background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-secondary) 100%) !important;
    color: var(--theme-button-text) !important;
  }

  /* Hero Section with Image - Theme Overlay */
  .hero-section.theme-hero-with-image {
    position: relative;
    color: var(--theme-button-text) !important;
  }

  .hero-section.theme-hero-with-image::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-secondary) 100%);
    opacity: 0.7;
    z-index: 1;
  }

  .hero-section.theme-hero-with-image > .container {
    position: relative;
    z-index: 2;
  }

  /* Button Theme */
  .btn-theme-primary {
    background-color: var(--theme-button) !important;
    color: var(--theme-button-text) !important;
    border-color: var(--theme-button) !important;
  }

  .btn-theme-primary:hover {
    background-color: var(--theme-secondary) !important;
    border-color: var(--theme-secondary) !important;
    color: var(--theme-button-text) !important;
  }

  .btn-theme-outline {
    border-color: var(--theme-button) !important;
    color: var(--theme-button) !important;
  }

  .btn-theme-outline:hover {
    background-color: var(--theme-button) !important;
    color: var(--theme-button-text) !important;
  }

  /* Link Theme */
  a.theme-link,
  a:not(.nav-link):not(.btn) {
    color: var(--theme-link) !important;
  }

  a.theme-link:hover,
  a:not(.nav-link):not(.btn):hover {
    color: var(--theme-secondary) !important;
  }

  /* Text Theme */
  body {
    color: var(--theme-text);
    background-color: var(--theme-background);
  }

  /* Card Accents */
  .card.theme-accent {
    border-top: 3px solid var(--theme-accent);
  }

  /* Service Icons */
  .service-icon,
  .bi.text-primary {
    color: var(--theme-primary) !important;
  }

  /* Footer Links */
  footer a:not(.btn) {
    color: var(--theme-link) !important;
  }

  footer a:not(.btn):hover {
    color: var(--theme-secondary) !important;
  }
</style>

